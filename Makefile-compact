# Compact Makefile
CXX=g++ -std=c++20 -O2
NS3=-I../build/include -L../build/lib -lns3.45-core-default -lns3.45-network-default -lns3.45-internet-default -lns3.45-point-to-point-default -lns3.45-applications-default -lns3.45-netanim-default
CV=`pkg-config --cflags --libs opencv4`

compact: compact-sim compact-classifier
	@echo "Compact demos built!"

compact-sim: compact-sim.cc
	$(CXX) $< $(NS3) -o $@

compact-classifier: compact-classifier.cc
	$(CXX) $< $(NS3) -o $@

run-sim: compact-sim
	LD_LIBRARY_PATH=../build/lib:$$LD_LIBRARY_PATH ./compact-sim

run-classifier: compact-classifier
	LD_LIBRARY_PATH=../build/lib:$$LD_LIBRARY_PATH ./compact-classifier

clean:
	rm -f compact-sim compact-classifier *.xml

.PHONY: compact run-sim run-classifier clean
